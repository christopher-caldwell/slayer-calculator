import{j as s,s as w,r as v,l as b,m as g,b as p,G as f,n as D,o as P,p as G}from"./vendor.b4f26510.js";import{s as B}from"./masters.1c217357.js";const A=({children:e})=>s(S,{children:e}),S=w("span",{target:"ebusfmn0"})("color:",({theme:{palette:{primary:e}}})=>e.main,";"),y=()=>{const{control:e}=v.exports.useContext(b),{chosenMaster:u,currentPoints:d,currentStreak:a=0,targetPoints:i,hasCompletedKourendDiary:m=!1,hasCompletedWesternDiary:h=!1,isUsingTuraelBoost:t}=g({control:e});if(console.log("current points",d),console.log("isUsingTuraelBoost",t),!u||!d||!i)return[];const o=B.find(({name:T})=>u===T);if(!o)throw new Error("[useCalculateTasks]: Cannot find slayer master");return t?N(o,Number(d),Number(a),Number(i),m,h):j(o,Number(d),Number(a),Number(i),m,h)},N=(e,u,d,a,i,m)=>{var k,x;const h=[];let t=u,o=d;const T=m&&((k=e.diaryModifier)==null?void 0:k.name)==="western"?e.diaryModifier.amount:void 0,C=i&&((x=e.diaryModifier)==null?void 0:x.name)==="kourend"?e.diaryModifier.amount:void 0,l=T||C||0;for(;t<=a;){let r=0;if(o++,o%10==0){const n=c(e.pointsPer10thTask,l);t+=n,r=n}else if(o%50==0){const n=c(e.pointsPer50thTask,l);t+=n,r=n}else if(o%100==0){const n=c(e.pointsPer100thTask,l);t+=n,r=n}else if(o%250==0){const n=c(e.pointsPer250thTask,l);t+=n,r=n}else if(o%1e3==0){const n=c(e.pointsPer1000thTask,l);t+=n,r=n}h.push({pointsGained:r,newTotalAfterCompletion:t,newStreakAfterCompletion:o,pointsAwayFromGoal:a-t<0?0:a-t,master:r===0?"Turael":e.name})}return h},c=(e,u)=>e+e*u,j=(e,u,d,a,i,m)=>{var k,x;const h=[];let t=u,o=d;const T=m&&((k=e.diaryModifier)==null?void 0:k.name)==="western"?e.diaryModifier.amount:void 0,C=i&&((x=e.diaryModifier)==null?void 0:x.name)==="kourend"?e.diaryModifier.amount:void 0,l=T||C||0;for(;t<=a;){let r=0;if(o++,o%10==0){const n=c(e.pointsPer10thTask,l);t+=n,r=n}else if(o%50==0){const n=c(e.pointsPer50thTask,l);t+=n,r=n}else if(o%100==0){const n=c(e.pointsPer100thTask,l);t+=n,r=n}else if(o%250==0){const n=c(e.pointsPer250thTask,l);t+=n,r=n}else if(o%1e3==0){const n=c(e.pointsPer1000thTask,l);t+=n,r=n}else{const n=c(e.pointsPerTask,l);t+=n,r=n}h.push({pointsGained:r,newTotalAfterCompletion:t,newStreakAfterCompletion:o,pointsAwayFromGoal:a-t<0?0:a-t,master:e.name})}return h},$=()=>{const{getValues:e}=v.exports.useContext(b),{isUsingTuraelBoost:u}=e(),d=y(),a=[...d].reduce((i,m)=>m.master!=="Turael"?i+1:i,0);return s(F,{sx:{overflow:{md:"scroll"},paddingTop:{md:"60px"},height:{md:"100vh"}},children:p(f,{container:!0,spacing:2,children:[p(f,{item:!0,children:[p("h2",{children:[s(A,{children:d.length})," Tasks to meet goal"]}),u?p("h4",{children:[s(A,{children:a})," Point Bonus Tasks"]}):null]}),d.map((i,m)=>s(f,{item:!0,xs:12,children:p(D,{children:[s(P,{title:`${m+1}: ${i.master}`}),s(G,{children:p(f,{container:!0,children:[p(f,{item:!0,xs:3,container:!0,flexDirection:"column",children:[s("div",{children:"Gained"}),s("div",{children:i.pointsGained})]}),p(f,{item:!0,xs:3,container:!0,flexDirection:"column",children:[s("div",{children:"Total"}),s(A,{children:i.newTotalAfterCompletion})]}),p(f,{item:!0,xs:3,container:!0,flexDirection:"column",children:[s("div",{children:"Streak"}),s("div",{children:i.newStreakAfterCompletion})]}),p(f,{item:!0,xs:3,container:!0,flexDirection:"column",children:[s("div",{children:"Remaining"}),s(A,{children:i.pointsAwayFromGoal})]})]})})]})},i.pointsAwayFromGoal))]})})},F=w("div",{target:"e18vi7l90"})("");export{$ as default};
