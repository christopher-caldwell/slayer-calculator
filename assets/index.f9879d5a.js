import{j as s,s as w,r as v,l as b,m as g,b as p,G as f,n as D,o as P,p as G}from"./vendor.b4f26510.js";import{s as B}from"./masters.1c217357.js";const C=({children:e})=>s(S,{children:e}),S=w("span",{target:"ebusfmn0"})("color:",({theme:{palette:{primary:e}}})=>e.main,";"),y=()=>{const{control:e}=v.exports.useContext(b),{chosenMaster:m,currentPoints:d,currentStreak:a=0,targetPoints:i,hasCompletedKourendDiary:c=!1,hasCompletedWesternDiary:h=!1,isUsingTuraelBoost:t}=g({control:e});if(console.log("current points",d),console.log("isUsingTuraelBoost",t),!m||!d||!i)return[];const o=B.find(({name:T})=>m===T);if(!o)throw new Error("[useCalculateTasks]: Cannot find slayer master");return t?N(o,Number(d),Number(a),Number(i),c,h):j(o,Number(d),Number(a),Number(i),c,h)},N=(e,m,d,a,i,c)=>{var k,A;const h=[];let t=m,o=d;const T=c&&((k=e.diaryModifier)==null?void 0:k.name)==="western"?e.diaryModifier.amount:void 0,x=i&&((A=e.diaryModifier)==null?void 0:A.name)==="kourend"?e.diaryModifier.amount:void 0,l=T||x||0;for(;t<=a;){let r=0;if(o++,o%10==0){const n=u(e.pointsPer10thTask,l);t+=n,r=n}else if(o%50==0){const n=u(e.pointsPer50thTask,l);t+=n,r=n}else if(o%100==0){const n=u(e.pointsPer100thTask,l);t+=n,r=n}else if(o%250==0){const n=u(e.pointsPer250thTask,l);t+=n,r=n}else if(o%1e3==0){const n=u(e.pointsPer1000thTask,l);t+=n,r=n}h.push({pointsGained:r,newTotalAfterCompletion:t,newStreakAfterCompletion:o,pointsAwayFromGoal:a-t<0?0:a-t,master:r===0?"Turael":e.name})}return h},u=(e,m)=>e+e*m,j=(e,m,d,a,i,c)=>{var k,A;const h=[];let t=m,o=d;const T=c&&((k=e.diaryModifier)==null?void 0:k.name)==="western"?e.diaryModifier.amount:void 0,x=i&&((A=e.diaryModifier)==null?void 0:A.name)==="kourend"?e.diaryModifier.amount:void 0,l=T||x||0;for(;t<=a;){let r=0;if(o++,o%10==0){const n=u(e.pointsPer10thTask,l);t+=n,r=n}else if(o%50==0){const n=u(e.pointsPer50thTask,l);t+=n,r=n}else if(o%100==0){const n=u(e.pointsPer100thTask,l);t+=n,r=n}else if(o%250==0){const n=u(e.pointsPer250thTask,l);t+=n,r=n}else if(o%1e3==0){const n=u(e.pointsPer1000thTask,l);t+=n,r=n}else{const n=u(e.pointsPerTask,l);t+=n,r=n}h.push({pointsGained:r,newTotalAfterCompletion:t,newStreakAfterCompletion:o,pointsAwayFromGoal:a-t<0?0:a-t,master:e.name})}return h},W=()=>{const{getValues:e}=v.exports.useContext(b),{isUsingTuraelBoost:m}=e(),d=y(),a=[...d].reduce((i,c)=>c.master!=="Turael"?i+1:i,0);return s(F,{sx:{overflow:{md:"scroll"},paddingTop:{md:"60px"},height:{md:"100vh"}},children:p(f,{container:!0,spacing:2,children:[p(f,{item:!0,children:[p("h2",{children:[s(C,{children:d.length})," Tasks to meet goal"]}),m?p("h4",{children:[s(C,{children:a})," Point Bonus Tasks"]}):null]}),d.map((i,c)=>s(f,{item:!0,xs:12,children:p(D,{children:[s(P,{title:`${c+1}: ${i.master}`}),s(G,{children:p(f,{container:!0,children:[p(f,{item:!0,xs:3,container:!0,flexDirection:"column",children:[s("div",{children:"Gained"}),s("div",{children:i.pointsGained})]}),p(f,{item:!0,xs:3,container:!0,flexDirection:"column",children:[s("div",{children:"Total"}),s(C,{children:i.newTotalAfterCompletion})]}),p(f,{item:!0,xs:3,container:!0,flexDirection:"column",children:[s("div",{children:"Streak"}),s("div",{children:i.newStreakAfterCompletion})]}),p(f,{item:!0,xs:3,container:!0,flexDirection:"column",children:[s("div",{children:"Remaining"}),s(C,{children:i.pointsAwayFromGoal})]})]})})]})},`${i.pointsAwayFromGoal}-${c} `))]})})},F=w("div",{target:"e18vi7l90"})("");export{W as default};
